<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Genius</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Meal Genius</h1>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </header>

    <section id="biometrics">
        <h2>Step 1: Enter Your Biometrics</h2>
        <form id="biometricForm">
            <label>Age: <input type="number" name="age" required min="1" max="120"></label><br><br>
            <label>Weight (lbs): <input type="number" name="weight" required min="50" max="500"></label><br><br>
            <label>Height (cm): <input type="number" name="height" required min="100" max="250"></label><br><br>
            <label>Gender:
                <select name="gender" required>
                    <option value="">Select</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </label><br><br>
            <label>Activity Level:
                <select name="activity" required>
                    <option value="">Select</option>
                    <option value="sedentary">Sedentary</option>
                    <option value="light">Lightly Active</option>
                    <option value="moderate">Moderately Active</option>
                    <option value="active">Very Active</option>
                </select>
            </label><br><br>
            <button type="button" id="nextToPreferences" onclick="validateAndProceed('preferences')" disabled>Next</button>
        </form>
    </section>

    <section id="preferences" style="display:none;">
        <h2>Step 2: Food Preferences and Budget</h2>
        <form id="preferencesForm">
            <label>Diet Type:
                <select name="diet" required>
                    <option value="">Select</option>
                    <option value="omnivore">Omnivore</option>
                    <option value="vegetarian">Vegetarian</option>
                    <option value="vegan">Vegan</option>
                    <option value="keto">Keto</option>
                    <option value="paleo">Paleo</option>
                </select>
            </label><br><br>
            <label>Allergies (comma separated): <input type="text" name="allergies"></label><br><br>
            <label>Food Likes (comma separated): <input type="text" name="likes"></label><br><br>
            <label>Food Dislikes (comma separated): <input type="text" name="dislikes"></label><br><br>
            <label>Budget (per week in $): <input type="number" name="budget" required min="20" max="1000"></label><br><br>
            <button type="button" onclick="showStep('biometrics')">Back</button>
            <button type="button" id="nextToRecommendations" onclick="validateAndProceed('recommendations')" disabled>Get Meal Plan</button>
        </form>
    </section>

    <section id="recommendations" style="display:none;">
        <h2>Step 3: Your AI Meal Plan</h2>
        <div id="loadingSpinner" style="display: none;">
            <div class="spinner"></div>
            <p>Generating your personalized plan...</p>
        </div>
        <div id="mealPlanContent" style="display: none;"></div>
        <button type="button" onclick="showStep('preferences')">Back</button>
        <button type="button" id="regenerateButton" onclick="regenerateMealPlan()" style="display: none;">Regenerate</button>
    </section>

    <footer>
        <p>&copy; 2025 Meal Genius. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>